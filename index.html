<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>–ö–∞—Ñ–µ –ê–ª–º–∞–∑ ‚Äî –º–µ–Ω—é –∏ –¥–æ—Å—Ç–∞–≤–∫–∞</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg:#f7f1e8;
  --card:#fffaf5;
  --accent:#8b5e3c;
  --accent-light:#c9a77b;
  --text:#2b2318;
  --muted:#7a6a55;
  --shadow:rgba(18,12,8,0.08);
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:"Inter",sans-serif;
  background:var(--bg);
  color:var(--text);
  padding:16px;
  scroll-behavior:smooth;
}
header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  flex-wrap:wrap;
  margin-bottom:20px;
}
.brand{
  display:flex;
  align-items:center;
  gap:10px;
}
.logo{
  width:60px;height:60px;
  border-radius:50%;
  background:url('https://i.ibb.co.com/PqqVYdK/almaz.jpg') center/cover no-repeat;
  box-shadow:0 6px 18px var(--shadow);
}
h1{font-size:20px;}
.brand p{font-size:13px;color:var(--muted)}
.btn{
  background:var(--accent);
  color:white;
  border:0;
  border-radius:10px;
  padding:10px 16px;
  font-weight:700;
  cursor:pointer;
  font-size:14px;
  transition:.15s;
}
.btn:active{transform:scale(0.97);}
.btn.ghost{
  background:transparent;
  border:1px solid rgba(43,35,26,0.1);
  color:var(--accent);
}

/* --- –¢–ê–ë–´ --- */
.tabs{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin-bottom:20px;
  justify-content:center;
}
.tab{
  padding:10px 16px;
  border-radius:10px;
  background:var(--card);
  border:1px solid rgba(43,35,26,0.1);
  cursor:pointer;
  font-weight:600;
  font-size:15px;
  box-shadow:0 2px 6px var(--shadow);
  transition:.2s;
  text-align:center;
}
.tab:active{transform:scale(0.95);}
.tab.active{
  background:var(--accent);
  color:#fff;
  border-color:var(--accent-light);
}
@media(max-width:600px){
  .tabs{
    display:grid;
    grid-template-columns:repeat(3, 1fr);
    gap:10px;
  }
  .tab{
    text-align:center;
    font-size:13px;
    padding:10px 6px;
    border-radius:12px;
  }
}

/* --- –ë–õ–Æ–î–ê --- */
.menu{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(230px,1fr));
  gap:16px;
  margin-bottom:60px;
}
.dish{
  background:var(--card);
  border-radius:12px;
  padding:12px;
  box-shadow:0 4px 14px var(--shadow);
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  transition:.2s ease;
  position:relative;
}
.dish:hover{transform:translateY(-3px);}
.dish h3{font-size:16px;margin-bottom:4px;}
.dish p{font-size:13px;color:var(--muted);margin-bottom:6px;}
.price{color:var(--accent-light);font-weight:800;font-size:15px;margin-bottom:8px;}
.add-btn{width:100%;}

/* --- FLOAT CART --- */
#floatCart{
  position:fixed;
  bottom:22px;
  right:22px;
  background:var(--accent);
  color:white;
  width:80px;
  height:80px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 8px 25px rgba(0,0,0,0.25);
  cursor:pointer;
  font-weight:800;
  font-size:26px;
  z-index:999;
  transition:transform .2s ease;
}
#floatCart:hover{transform:scale(1.08);}
#floatCart span{
  position:absolute;
  top:10px;
  right:12px;
  background:#fff;
  color:var(--accent);
  border-radius:50%;
  width:25px;
  height:25px;
  font-size:14px;
  font-weight:700;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* --- CART MODAL --- */
#cartModal{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.4);
  display:none;align-items:center;justify-content:center;
  z-index:1000;
}
.cart-box{
  background:var(--card);
  border-radius:16px;
  padding:18px;
  width:90%;
  max-width:420px;
  box-shadow:0 8px 24px rgba(0,0,0,0.1);
  max-height:90%;
  overflow:auto;
}
.cart-box h3{margin-bottom:10px;text-align:center;}
.cart-item{
  display:flex;justify-content:space-between;align-items:center;
  margin-bottom:10px;
}
.qty{display:flex;align-items:center;gap:6px;}
.qty button{border:1px solid rgba(43,35,26,0.1);background:transparent;border-radius:6px;padding:4px 10px;cursor:pointer;}
.total{
  display:flex;justify-content:space-between;margin-top:8px;
  font-weight:800;border-top:1px dashed rgba(43,35,26,0.1);
  padding-top:8px;
}
form{margin-top:12px;display:flex;flex-direction:column;gap:8px;}
input,textarea{
  border:1px solid rgba(43,35,26,0.1);
  border-radius:10px;
  padding:10px;
  font-size:14px;
  background:transparent;
}
textarea{min-height:60px;resize:vertical;}
footer{text-align:center;color:var(--muted);font-size:13px;margin-top:30px;}

/* --- –£–í–ï–î–û–ú–õ–ï–ù–ò–ï --- */
#addedNotify{
  position:fixed;
  bottom:100px;
  left:50%;
  transform:translateX(-50%);
  background:var(--accent);
  color:white;
  padding:10px 22px;
  border-radius:12px;
  font-weight:600;
  opacity:0;
  transition:opacity .3s ease;
  z-index:2000;
}
#addedNotify.show{opacity:1;}
</style>



</head>
<body>

<header>
  <div class="brand">
    <div class="logo"></div>
    <div>
      <h1>–ö–∞—Ñ–µ "–ê–ª–º–∞–∑"</h1>
      <p>–í–∫—É—Å–Ω–æ. –ë—ã—Å—Ç—Ä–æ. –£—é—Ç–Ω–æ.</p>
    </div>
  </div>
</header>

<div class="tabs" id="tabs"></div>
<main>
  <div id="menu" class="menu"></div>
</main>

<footer>¬© –ö–∞—Ñ–µ –ê–ª–º–∞–∑ | –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ‚Äî –ê–º–∏—Ä</footer>

<div id="floatCart" onclick="openCart()">
  üõí
  <span id="cartCount">0</span>
</div>

<div id="cartModal">
  <div class="cart-box">
    <h3>–í–∞—à –∑–∞–∫–∞–∑</h3>
    <div id="cartList"></div>
    <div class="total">
      <div>–ò—Ç–æ–≥–æ:</div>
      <div id="cartTotal">0 ‚Ç∏</div>
    </div>
    <form id="orderForm" onsubmit="return false;">
      <input id="name" placeholder="–ò–º—è" required>
      <input id="phone" placeholder="+7 7xx xxx xxxx" required>
      <textarea id="addr" placeholder="–ê–¥—Ä–µ—Å / –ü—Ä–µ–º–∏—á–∞–Ω–∏–µ "></textarea>
      <button id="send" class="btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ WhatsApp</button>
      <button id="clear" class="btn ghost" type="button">–û—á–∏—Å—Ç–∏—Ç—å</button>
    </form>
    <button id="closeCart" class="btn ghost" style="margin-top:10px;width:100%">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>
</div>

<script>
const PHONE_NUMBER = "+77011500900";

const categories = {
"ü•ó –°–ê–õ–ê–¢–´":[
{name:"–•—Ä—É—Å—Ç—è—â–∞—è –∫—É—Ä–æ—á–∫–∞ –≤ –∫–∏—Å–ª–æ-—Å–ª–∞–¥–∫–æ–º —Å–æ—É—Å–µ", price:2400, desc:"–∫—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ, –±—Ä–æ–∫–∫–æ–ª–∏, –±–∞–∫–ª–∞–∂–∞–Ω—ã, —á–µ—Å–Ω–æ–∫, –∫—É–Ω–∂—É—Ç"},
{name:"–ë–∞—è–Ω-–ê—É–ª", price:2300, desc:"–∫–æ–ø—á—ë–Ω–∞—è –∫—É—Ä–∏—Ü–∞, —è–∑—ã–∫ –≥–æ–≤—è–∂–∏–π, –æ–≥—É—Ä—Ü—ã, –≥—Ä–∏–±—ã, –º–∞–π–æ–Ω–µ–∑"},
{name:"–ò–º–ø–µ—Ä–∞—Ç–æ—Ä", price:2300, desc:"–≥–æ–≤—è–¥–∏–Ω–∞, –≤–µ—Ç—á–∏–Ω–∞, —è–π—Ü–æ, —Å—ã—Ä, —á–∏–ø—Å—ã, –º–∞–π–æ–Ω–µ–∑"},
{name:"–°–∞–ª–∞—Ç —Å –æ—Ö–æ—Ç–Ω–∏—á—å–∏–º–∏ –∫–æ–ª–±–∞—Å–∫–∞–º–∏ –∏ –∂–∞—Ä–µ–Ω—ã–º –∫–∞—Ä—Ç–æ—Ñ–µ–ª–µ–º", price:3000, desc:"–æ—Ö–æ—Ç. –∫–æ–ª–±–∞—Å–∫–∏, –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å, –ø–æ–º–∏–¥–æ—Ä—ã, –ª–∏—Å—Ç —Å–∞–ª–∞—Ç–∞, –∫—Ä–∞—Å–Ω—ã–π –ª—É–∫, –∑–µ–ª–µ–Ω—å, —Å–ø–µ—Ü–∏–∏, –æ–ª–∏–≤–∫–æ–≤–æ–µ –º–∞—Å–ª–æ, —á–∏–ª–∏ –ø–µ—Ä–µ—Ü"},
{name:"–ú–∞–ª—å–¥–∏–Ω–∏", price:2400, desc:"–≥–æ–≤—è–¥–∏–Ω–∞, –ø–æ–º–∏–¥–æ—Ä, —Å—ã—Ä –ø–∞—Ä–º–µ–∑–∞–Ω, –±–∞–∫–ª–∞–∂–∞–Ω, —Å–ª–∏–≤–æ—á–Ω—ã–π —Å–æ—É—Å"},
{name:"–¶–µ–∑–∞—Ä—å —Å —Å—ë–º–≥–æ–π", price:2900},
{name:"–¢—ë–ø–ª—ã–π —Å –≥–æ–≤—è–¥–∏–Ω–æ–π", price:2700},
{name:"–°—ë–º–≥–∞ —Å –æ–≤–æ—â–∞–º–∏ –Ω–∞ –≥—Ä–∏–ª–µ", price:3000},
{name:"–¶–µ–∑–∞—Ä—å —Å –∫—Ä–µ–≤–µ—Ç–∫–∞–º–∏", price:3200},
{name:"–•—Ä—É—Å—Ç—è—â–∏–µ –±–∞–∫–ª–∞–∂–∞–Ω—ã", price:2600},
{name:"–°—É–¥–æ—á–µ–∫", price:2500},
{name:"–¢—ë–ø–ª—ã–π —Å –∫—É—Ä–∏—Ü–µ–π", price:2300},
{name:"–û–ª–∏–≤—å–µ", price:1900},
{name:"–ú–∞–ª–∏–±—É", price:2300}
],
"üçú –ü–ï–†–í–´–ï –ë–õ–Æ–î–ê":[
{name:"–õ–∞–ø—à–∞ –ø–æ-–¥–æ–º–∞—à–Ω–µ–º—É", price:1300},
{name:"–ö—É–∫—Å–∏", price:1600},
{name:"–û–∫—Ä–æ—à–∫–∞", price:1700},
{name:"–ü–µ–ª—å–º–µ–Ω–∏", price:1600},
{name:"–°–æ–ª—è–Ω–∫–∞", price:1700},
{name:"–£—Ö–∞ –∏–∑ —Å—ë–º–≥–∏", price:1700},
{name:"–®–æ—Ä–ø–∞ –∏–∑ –±–∞—Ä–∞–Ω–∏–Ω—ã", price:1900},
{name:"–õ–∞–≥–º–∞–Ω —É–π–≥—É—Ä—Å–∫–∏–π", price:2000},
{name:"–ì—Ä–∏–±–Ω–æ–π –∫—Ä–µ–º-—Å—É–ø", price:2000}
],
"üçó –ë–õ–Æ–î–ê –ò–ó –ö–£–†–ò–¶–´":[
{name:"–§—Ä–∏–∫–∞—Å–µ", price:2400},
{name:"–°—Ç–µ–π–∫ –∏–∑ –∫—É—Ä–∏—Ü—ã –≤ —Å–ª–∏–≤–æ—á–Ω–æ–º —Å–æ—É—Å–µ", price:3000},
{name:"–ö—É—Ä–∏—Ü–∞ –≤ —Å–æ—É—Å–µ –ø–æ-–∫–∏—Ç–∞–π—Å–∫–∏", price:2700},
{name:"–ñ–∞—Ä–æ–≤–Ω—è –∏–∑ –∫—É—Ä–∏—Ü—ã", price:2600},
{name:"–û—Ç–±–∏–≤–Ω–∞—è –∏–∑ –∫—É—Ä–∏—Ü—ã", price:2700},
{name:"–ö—É—Ä–∏—Ü–∞ —Å —Å—ã—Ä–æ–º –∏ –≥—Ä–µ—Ü–∫–∏–º –æ—Ä–µ—Ö–æ–º", price:2800}
],
"üçπ –ë–ê–†":[
  {name:"–î–æ–º–∞—à–Ω–∏–π –ª–∏–º–æ–Ω–∞–¥", price:1800},
  {name:"–°–æ–∫ ¬´Gracio¬ª", price:1500},
  {name:"–°–æ–∫ ¬´Da-Da¬ª", price:1500},
  {name:"–ú–æ—Ä—Å", price:1300},
  {name:"Coca-Cola / Pepsi", price:1100},
  {name:"Sprite", price:1100},
  {name:"Mirinda", price:1100},
  {name:"–ö–æ–º–ø–æ—Ç", price:1000},
  {name:"–í–æ–¥–∞ ¬´Tassay¬ª", price:600},
  {name:"–í–æ–¥–∞ ¬´Asu¬ª", price:600},
  {name:"–ú–æ—Ö–∏—Ç–æ", price:1200},
  {name:"–¶–∏—Ç—Ä—É—Å–æ–≤—ã–π", price:1200}
],

"ü•© –ë–õ–Æ–î–ê –ò–ó –ì–û–í–Ø–î–ò–ù–´":[
{name:"–ú–∞–Ω—Ç—ã (–∂–∞—Ä–µ–Ω—ã–µ / –Ω–∞ –ø–∞—Ä—É)", price:2300},
{name:"–õ–∞–≥–º–∞–Ω –∂–∞—Ä–µ–Ω—ã–π", price:2200},
{name:"–ü–ª–æ–≤", price:2600},
{name:"–ú—è—Å–æ –ø–æ-—Ç–∞–π—Å–∫–∏", price:2700},
{name:"–ñ–∞—Ä–æ–≤–Ω—è –∏–∑ –≥–æ–≤—è–¥–∏–Ω—ã", price:2900},
{name:"–ì–æ–≤—è–¥–∏–Ω–∞ –≤ –∞–∑–∏–∞—Ç—Å–∫–æ–º —Å—Ç–∏–ª–µ —Å —Ä–∏—Å–æ–º", price:3600},
{name:"–ì–æ–≤—è–¥–∏–Ω–∞ –∑–∞–ø–µ—á—ë–Ω–Ω–∞—è –≤ —Ç–µ—Å—Ç–µ", price:5000},
{name:"–ì–æ–≤—è–∂—å–∏ —Ä—ë–±—Ä–∞ —Å –æ–≤–æ—â–∞–º–∏", price:3300},
{name:"–ú–µ–¥–∞–ª—å–æ–Ω—ã –≤ —Å–ª–∏–≤–æ—á–Ω–æ-–≥—Ä–∏–±–Ω–æ–º —Å–æ—É—Å–µ", price:4300},
{name:"–ë–ª—é–¥–æ –æ—Ç —à–µ—Ñ–∞", price:4800},
{name:"–ö–∞–∑–∞–Ω-–∫–µ–±–∞–± –∏–∑ –≥–æ–≤—è–¥–∏–Ω—ã", price:3100},
{name:"–ì–æ–≤—è–¥–∏–Ω–∞ –∑–∞–ø–µ—á—ë–Ω–Ω–∞—è –≤ –≥–æ—Ä—à–æ—á–∫–µ", price:3400},
{name:"–ì–æ–≤—è–¥–∏–Ω–∞ ¬´–†–æ–∫-–§–æ—Ä¬ª", price:3800},
{name:"–ì–æ–≤—è–¥–∏–Ω–∞ –ø–æ–¥ —Å—ã—Ä–æ–º", price:3200},
{name:"–ë–µ—Ñ—Å—Ç—Ä–æ–≥–∞–Ω–æ–≤", price:2900}
],
"üçñ –ë–õ–Æ–î–ê –ò–ó –ë–ê–†–ê–ù–ò–ù–´":[
{name:"–ö—É—ã—Ä–¥–∞–∫", price:3100},
{name:"–ë–∞—Ä–∞–Ω–∏–Ω–∞ –Ω–∞ –∂–∞—Ä–æ–≤–Ω–µ —Å –æ–≤–æ—â–∞–º–∏", price:3100},
{name:"–ö–∞–∑–∞–Ω-–∫–µ–±–∞–±", price:3500}
],
"üêü –ë–õ–Æ–î–ê –ò–ó –†–´–ë–´":[
{name:"–ñ–∞—Ä–æ–≤–Ω—è –∏–∑ —Å—É–¥–∞–∫–∞", price:2800},
{name:"–°—É–¥–∞–∫ —Å –æ–≤–æ—â–∞–º–∏ –≥—Ä–∏–ª—å", price:3000},
{name:"–°—É–¥–∞–∫ –≤ —Å–ª–∏–≤–æ—á–Ω–æ–º —Å–æ—É—Å–µ", price:3100},
{name:"–ñ–∞—Ä–æ–≤–Ω—è —Å —Å—ë–º–≥–æ–π", price:4200},
{name:"–°—Ç–µ–π–∫ –∏–∑ —Å—ë–º–≥–∏ –≤ —Å–ª–∏–≤–æ—á–Ω–æ-–≥—Ä–∏–±–Ω–æ–º —Å–æ—É—Å–µ", price:4600},
{name:"–°—Ç–µ–π–∫ –∏–∑ —Å—ë–º–≥–∏ —Å –æ–≤–æ—â–∞–º–∏ –≥—Ä–∏–ª—å", price:5100}
],
"üçù –ü–ê–°–¢–ê –ò –ì–ê–†–ù–ò–†–´":[
{name:"–ü–∞—Å—Ç–∞ —Å –æ–≤–æ—â–∞–º–∏", price:2200},
{name:"–ü–∞—Å—Ç–∞ —Å –∫—É—Ä–∏—Ü–µ–π", price:2600},
{name:"–ü–∞—Å—Ç–∞ —Å —Å—ë–º–≥–æ–π", price:3300},
{name:"–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å–Ω–æ–µ –ø—é—Ä–µ", price:700},
{name:"–†–∏—Å", price:750},
{name:"–†–∏—Å —Å –æ–≤–æ—â–∞–º–∏", price:850},
{name:"–§—Ä–∏", price:950},
{name:"–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å–Ω—ã–µ –¥–æ–ª—å–∫–∏", price:1000},
{name:"–û–≤–æ—â–∏ –Ω–∞ –≥—Ä–∏–ª–µ", price:1300}
],
"üçï –ü–ò–¶–¶–ê":[
{name:"–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞", price:2400},
{name:"–°–∞–ª—è–º–∏", price:2500},
{name:"–ü–µ–ø–ø–µ—Ä–æ–Ω–∏", price:2600},
{name:"–î–µ—Ç—Å–∫–∏–π –∫–∞–ø—Ä–∏–∑", price:3000},
{name:"–ì—Ä–∏–±–Ω–∞—è", price:2800},
{name:"–¶—ã–ø–ª—ë–Ω–æ–∫ –ë–∞—Ä–±–µ–∫—é", price:2700},
{name:"–°—ã—Ä–Ω–∞—è", price:2700},
{name:"–ë–æ–ª–æ–Ω—å–µ–∑–µ", price:2900},
{name:"–° –æ—Ö–æ—Ç–Ω–∏—á—å–∏–º–∏ –∫–æ–ª–±–∞—Å–∫–∞–º–∏", price:2800},
{name:"4 –°–µ–∑–æ–Ω–∞", price:3000},
{name:"–§—Ä–∏–∫–∞—Å–µ", price:3100},
{name:"–¶–µ–∑–∞—Ä—å", price:3200},
{name:"–§–∏—Ä–º–µ–Ω–Ω–∞—è ¬´–ê–ª–º–∞–∑¬ª", price:3600},
{name:"–ü–∏—Ü—Ü–∞ —Å —Å—ë–º–≥–æ–π", price:5100}
],
"üç± –°–ï–¢–´":[
{name:"–°–µ—Ç 1 ‚Äî 24 —à—Ç", price:6600, desc:"–§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è, –°—ç–∫–∏ –¢–µ–º–ø—É—Ä–∞, —Ä–æ–ª–ª —Å –æ–≥—É—Ä—Ü–æ–º, –ö–∞–ª–∏—Ñ–æ—Ä–Ω–∏—è"},
{name:"–°–µ—Ç 2 ‚Äî 32 —à—Ç", price:10600, desc:"–ó–∞–ø–µ—á—ë–Ω–Ω—ã–π —Å –∫—Ä–∞–±–æ–º, –≠–±–∏ –¢–µ–º–ø—É—Ä–∞, –§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è, –ö–∞–ª–∏—Ñ–æ—Ä–Ω–∏—è"},
{name:"–°–µ—Ç 3 ‚Äî 40 —à—Ç", price:12600, desc:"–§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è, –î–∞–∫–æ—Ç–∞, –∑–∞–ø–µ—á—ë–Ω–Ω—ã–π —Å –∫—Ä–µ–≤–µ—Ç–∫–æ–π, –ì—É—Ä–º–µ, —Ä–æ–ª–ª —Å –ª–æ—Å–æ—Å–µ–º"},
{name:"–°–µ—Ç 4 ‚Äî 48 —à—Ç", price:16300, desc:"–ó–∞–ø–µ—á—ë–Ω–Ω—ã–π —Å –ª–æ—Å–æ—Å–µ–º, –∑–∞–ø–µ—á—ë–Ω–Ω—ã–π —Å –∫—Ä–µ–≤–µ—Ç–∫–æ–π, –≠–±–∏ –¢–µ–º–ø—É—Ä–∞, –°—ç–∫–∏ –¢–µ–º–ø—É—Ä–∞, –ö–∞–ª–∏—Ñ–æ—Ä–Ω–∏—è, –§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è"}
]

};

let currentCategory = Object.keys(categories)[0];
let cart = [];

const el = s => document.querySelector(s);
const fmt = v => v.toLocaleString('ru-RU') + " ‚Ç∏";

function renderTabs(){
  const tabs = el("#tabs");
  tabs.innerHTML = "";
  Object.keys(categories).forEach(cat=>{
    const div = document.createElement("div");
    div.className = "tab" + (cat===currentCategory ? " active" : "");
    div.textContent = cat;
    div.onclick = ()=>{currentCategory=cat;renderTabs();renderMenu();};
    tabs.appendChild(div);
  });
}

function renderMenu(){
  const menu = el("#menu");
  menu.innerHTML = "";
  categories[currentCategory].forEach((p,i)=>{
    menu.innerHTML += `
      <div class="dish">
        <h3>${p.name}</h3>
        ${p.desc?`<p>${p.desc}</p>`:""}
        <div class="price">${fmt(p.price)}</div>
        <button class="btn add-btn" onclick="addToCart('${currentCategory}_${i}')">–î–æ–±–∞–≤–∏—Ç—å</button>
      </div>`;
  });
}

function addToCart(id){
  const [cat,i] = id.split("_");
  const p = categories[cat][i];
  const ex = cart.find(x=>x.name===p.name);
  if(ex) ex.q++;
  else cart.push({...p,q:1});
  updateCart();
}

function changeQty(name,d){
  const it = cart.find(x=>x.name===name);
  if(!it)return;
  it.q+=d;
  if(it.q<1)cart=cart.filter(x=>x.name!==name);
  updateCart();
}

function updateCart(){
  el("#cartCount").textContent = cart.reduce((s,x)=>s+x.q,0);
  const l = el("#cartList");
  if(cart.length===0){l.innerHTML="<p style='color:var(--muted);text-align:center'>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>";}
  else{
    l.innerHTML = cart.map(it=>`
      <div class="cart-item">
        <div>${it.name}<br><small>${fmt(it.price)}</small></div>
        <div class="qty">
          <button onclick="changeQty('${it.name}',-1)">-</button>
          <div>${it.q}</div>
          <button onclick="changeQty('${it.name}',1)">+</button>
        </div>
      </div>`).join('');
  }
  el("#cartTotal").textContent = fmt(cart.reduce((s,x)=>s+x.price*x.q,0));
}

function openCart(){el("#cartModal").style.display="flex";}
el("#closeCart").onclick=()=>el("#cartModal").style.display="none";
el("#clear").onclick=()=>{cart=[];updateCart();};
el("#send").onclick=()=>{
  if(cart.length===0){alert("–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞");return;}
  const name=el("#name").value.trim();
  const phone=el("#phone").value.trim();
  if(!name||!phone){alert("–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏ —Ç–µ–ª–µ—Ñ–æ–Ω");return;}
  const addr=el("#addr").value.trim();
  let msg=`–ù–æ–≤—ã–π –∑–∞–∫–∞–∑ –≤ –ö–∞—Ñ–µ –ê–ª–º–∞–∑:\n\n–ò–º—è: ${name}\n–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}\n${addr?("–ê–¥—Ä–µ—Å: "+addr+"\n"):""}\n\n–ó–∞–∫–∞–∑:\n`;
  cart.forEach((it,i)=>msg+=`${i+1}. ${it.name} x${it.q} = ${it.price*it.q} ‚Ç∏\n`);
  msg+=`\n–ò—Ç–æ–≥–æ: ${cart.reduce((s,x)=>s+x.price*x.q,0)} ‚Ç∏`;
  window.open(`https://wa.me/${PHONE_NUMBER}?text=${encodeURIComponent(msg)}`,'_blank');
};

renderTabs();
renderMenu();
updateCart();
function showAddedAnimation(btn){
  btn.classList.add('added-to-cart');
  btn.textContent = "–î–æ–±–∞–≤–ª–µ–Ω–æ ‚úì";
  setTimeout(()=>{
    btn.classList.remove('added-to-cart');
    btn.textContent = "–î–æ–±–∞–≤–∏—Ç—å";
  }, 800);
}

// –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ addToCart:
function addToCart(id){
  const [cat,i] = id.split("_");
  const p = categories[cat][i];
  const ex = cart.find(x=>x.name===p.name);
  if(ex) ex.q++;
  else cart.push({...p,q:1});
  updateCart();

  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
  const btn = event.target;
  showAddedAnimation(btn);

  // –õ—ë–≥–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤—Å–ø—ã—à–∫–∞ –Ω–∞ –∏–∫–æ–Ω–∫–µ –∫–æ—Ä–∑–∏–Ω—ã
  const cartBtn = el("#floatCart");
  cartBtn.style.transform = "scale(1.2)";
  setTimeout(()=>cartBtn.style.transform="scale(1)",200);
}

</script>
</body>
</html>

